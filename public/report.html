<!DOCTYPE html>
<html>
<head lang="ch">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/css/bootstrap.min.css"/>
    <!--<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.4/css/bootstrap.min.css">-->
    <title>Beautiful Bill</title>
</head>
<body ng-app="" ng-cloak="" ng-controller="reportController">
<div class="container">
  <div class="page-header">
      <h1>Pretty Bills
          <small> Report for details</small>
      </h1>
  </div>
    <h1 class="text-center">XX {{ nowTime }}</h1>

    <div class="panel panel-info">
        <div class="panel-heading">
            <h1 class="panel-title">Gender Distribution</h1>
        </div>
        <div class="panel-body">
            <div class="row">
                <div class="col-xs-6">
                    <canvas id="chart1" height="300"/>
                </div>
                <div class="col-xs-1"></div>
                <div class="col-xs-5">
                    <table class="table table-striped" style="height:500px;">
                        <thead>
                        <tr>
                            <th>Time</th>
                            <th>Male</th>
                            <th>Female</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="(values, month) in firstLabels" ng-repeat-end="male in firstDataMale">
                            <td>{{ month }}</td>
                            <td>{{ firstDataMale[values] }}</td>
                            <td>{{ firstDataFemale[values] }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="panel panel-info">
        <div class="panel-heading">
            <h1 class="panel-title">Flower Species</h1>
        </div>
        <div class="panel-body">
            <div class="row">
                <div class="col-xs-5">
                    <table class="table table-striped" style="height: 300px;">
                        <thead>
                        <tr>
                            <th>Flower</th>
                            <th>Number</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="pie in pieData">
                            <td>{{ pie.label }}</td>
                            <td>{{ pie.value }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="col-xs-1"></div>
                <div class="col-xs-6">
                    <canvas id="chart2" height="300"></canvas>
                </div>
            </div>
        </div>
    </div>
    <div class="panel panel-info">
        <div class="panel-heading">
            <h1 class="panel-title">Flower Price Statistication</h1>
        </div>
        <div class="panel-body">
            <div class="row">
                <div class="col-xs-6">
                    <canvas id="chart3" height="200"></canvas>
                </div>
                <div class="col-xs-1"></div>
                <div class="col-xs-5">
                    <table class="table table-striped" style="height: 400px;">
                        <thead>
                        <tr>
                            <th>Flower</th>
                            <th>Count</th>
                            <th>Price</th>
                            <th>Total</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="cou in doughnutData">
                            <td>{{ cou.label }}</td>
                            <td>{{ cou.count }}</td>
                            <td>{{ cou.price }}</td>
                            <td>{{ cou.value }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="panel panel-info">
        <div class="panel-heading">
            <h1 class="panel-title">Gender Distribution By Time</h1>
        </div>
        <div class="panel-body">
            <div class="row">
                <div class="col-xs-6">
                    <canvas id="chart4" height="300"/>
                </div>
                <div class="col-xs-1"></div>
                <div class="col-xs-5">
                    <table class="table table-striped" style="height:500px;">
                        <thead>
                        <tr>
                            <th>Month</th>
                            <th>Male</th>
                            <th>Female</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="(values, month) in firstLabels" ng-repeat-end="male in firstDataMale">
                            <td>{{ month }}</td>
                            <td>{{ firstDataMale[values] }}</td>
                            <td>{{ firstDataFemale[values] }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <script src="/js/angular.min.js"></script>
    <script src="/js/jquery.min.js"></script>
    <script src="/js/Chart.js" type="text/javascript"></script>
    <script src="/js/bootstrap.min.js"></script>
    <!--<script src="js/bootstrap.min.js" type="text/javascript"></script>-->
    <script>
        var randomScalingFactor = function () {
            return Math.round(Math.random() * 100);
        };
        function reportController($scope) {
            $scope.firstLabels = ["9AM-11AM", "11AM-1PM", "1PM-3PM", "3PM-5PM", "5PM-7PM", "7PM-9PM"];
            $scope.firstDataMale = [randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor()];
            $scope.firstDataFemale = [randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor()];
            var myDate = new Date();
            $scope.nowTime = myDate.toLocaleString();
            $scope.lastLabels = ["9AM-11AM", "11AM-1PM", "1PM-3PM", "3PM-5PM", "5PM-7PM", "7PM-9PM"];
            $scope.lastDataViolet = [randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor()];
            $scope.lastDataRose = [randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor()];
            $scope.lastDataCarnation = [randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor()];
            $scope.lastDataOrchid = [randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor()];
            $scope.lastDataLily = [randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor()];
            var lineChartData = {
                labels: $scope.firstLabels,
                datasets: [{
                    label: "Male dataset",
                    fillColor: "rgba(220,220,220,0.2)",
                    strokeColor: "rgba(220,220,220,1)",
                    pointColor: "rgba(220,220,220,1)",
                    pointStrokeColor: "#fff",
                    pointHighlightFill: "#fff",
                    pointHighlightStroke: "rgba(220,220,220,1)",
                    data: $scope.firstDataMale
                }, {
                    label: "Female dataset",
                    fillColor: "rgba(151,187,205,0.2)",
                    strokeColor: "rgba(151,187,205,1)",
                    pointColor: "rgba(151,187,205,1)",
                    pointStrokeColor: "#fff",
                    pointHighlightFill: "#fff",
                    pointHighlightStroke: "rgba(151,187,205,1)",
                    data: $scope.firstDataFemale
                }]
            };
            var llineChartData = {
                labels: $scope.lastLabels,
                datasets: [{
                    label: "Male dataset",
                    fillColor: "rgba(220,220,220,0.2)",
                    strokeColor: "rgba(220,220,220,1)",
                    pointColor: "rgba(220,220,220,1)",
                    pointStrokeColor: "#fff",
                    pointHighlightFill: "#fff",
                    pointHighlightStroke: "rgba(220,220,220,1)",
                    data: $scope.lastDataCarnation
                }, {
                    label: "My Second dataset",
                    fillColor: "rgba(151,187,205,0.2)",
                    strokeColor: "rgba(151,187,205,1)",
                    pointColor: "rgba(151,187,205,1)",
                    pointStrokeColor: "#fff",
                    pointHighlightFill: "#fff",
                    pointHighlightStroke: "rgba(151,187,205,1)",
                    data: $scope.lastDataLily
                },
                    {
                        label: "My Second dataset",
                        fillColor: "rgba(100,187,205,0.2)",
                        strokeColor: "rgba(100,187,205,1)",
                        pointColor: "rgba(100,187,205,1)",
                        pointStrokeColor: "#fff",
                        pointHighlightFill: "#fff",
                        pointHighlightStroke: "rgba(100,187,205,1)",
                        data: $scope.lastDataOrchid
                    },
                    {
                        label: "My Second dataset",
                        fillColor: "rgba(51,187,205,0.2)",
                        strokeColor: "rgba(51,187,205,1)",
                        pointColor: "rgba(51,187,205,1)",
                        pointStrokeColor: "#fff",
                        pointHighlightFill: "#fff",
                        pointHighlightStroke: "rgba(51,187,205,1)",
                        data: $scope.lastDataRose
                    },
                    {
                        label: "My Second dataset",
                        fillColor: "rgba(201,187,205,0.2)",
                        strokeColor: "rgba(201,187,205,1)",
                        pointColor: "rgba(201,187,205,1)",
                        pointStrokeColor: "#fff",
                        pointHighlightFill: "#fff",
                        pointHighlightStroke: "rgba(201,187,205,1)",
                        data: $scope.lastDataViolet
                    }]

            };
            $scope.pieData = [{
                value: randomScalingFactor(),
                color: "#F7464A",
                highlight: "#FF5A5E",
                label: "Violet"
            }, {
                value: randomScalingFactor(),
                color: "#46BFBD",
                highlight: "#5AD3D1",
                label: "Carnation"
            }, {
                value: randomScalingFactor(),
                color: "#FDB45C",
                highlight: "#FFC870",
                label: "Rose"
            }, {
                value: randomScalingFactor(),
                color: "#949FB1",
                highlight: "#A8B3C5",
                label: "Orchid"
            }, {
                value: randomScalingFactor(),
                color: "#4D5360",
                highlight: "#616774",
                label: "Lily"
            }];
            $scope.doughnutData = [
                {
                    value: 300,
                    price: 10,
                    count: 30,
                    color: "#F7464A",
                    highlight: "#FF5A5E",
                    label: "Violet"
                },
                {
                    value: 600,
                    price: 15,
                    count: 40,
                    color: "#46BFBD",
                    highlight: "#5AD3D1",
                    label: "Carnation"
                },
                {
                    value: 450,
                    price: 30,
                    count: 15,
                    color: "#FDB45C",
                    highlight: "#FFC870",
                    label: "Rose"
                },
                {
                    value: 750,
                    price: 150,
                    count: 5,
                    color: "#949FB1",
                    highlight: "#A8B3C5",
                    label: "Orchid"
                },
                {
                    value: 400,
                    price: 8,
                    count: 50,
                    color: "#4D5360",
                    highlight: "#616774",
                    label: "Lily"
                }

            ];
            var ctx2 = document.getElementById("chart1").getContext("2d");
            window.myLine = new Chart(ctx2).Line(lineChartData, {
                responsive: true
            });
            var ctx3 = document.getElementById("chart2").getContext("2d");
            window.myPie = new Chart(ctx3).Pie($scope.pieData);
            var ctx4 = document.getElementById("chart3").getContext("2d");
            window.myDou = new Chart(ctx4).Doughnut($scope.doughnutData, {responsive: true});
            var ctx5 = document.getElementById("chart4").getContext("2d");
            window.myLine = new Chart(ctx5).Line(llineChartData, {
                responsive: true
            });
        };

    </script>
</body>
</html>